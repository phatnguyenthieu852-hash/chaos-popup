<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CHAOS GOD CLOSE=3</title>
</head>

<body style="background:black;color:red;font-family:consolas">
<h2>ğŸ‘¹ CHAOS GOD â€” CLOSE 1 = SPAWN 3</h2>
<button onclick="stopAll()">ğŸ›‘ STOP ALL (ESC)</button>

<script>
let popups=[];
let running=true;
let maxPop=150;

// auto cháº¡y
window.onload=()=>{
    for(let i=0;i<10;i++) createPopup(true);

    setInterval(()=>{
        if(!running) return;
        if(popups.length<maxPop) createPopup(false);
    },1000);
};

// ESC = táº¯t kháº©n cáº¥p
document.addEventListener("keydown",e=>{
    if(e.key==="Escape") stopAll();
});

function stopAll(){
    running=false;
    popups.forEach(p=>{
        try{
            p.postMessage("forceClose","*");
            p.close();
        }catch(e){}
    });
    popups=[];
    speechSynthesis.cancel();
    alert("ğŸ›‘ ÄÃ£ táº¯t toÃ n bá»™ CHAOS");
}

function createPopup(isBoss){

    let w=window.open("","",
    "width=240,height=130,left="+
    Math.random()*800+
    ",top="+Math.random()*500);

    if(!w) return;

    popups.push(w);

    w.document.write(`
    <body style="
    background:black;
    color:red;
    font-family:consolas;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:18px;
    ">
    ${isBoss?"ğŸ‘ CHAOS BOSS":"ğŸ‘¿ MINION"}

    <script>
    let words=[
    "ai há»i",
    "gah dayumğŸ’”ğŸ¥€",
    "lol",
    "error404",
    "you have been hacked"
    ];

    function speak(t){
        let u=new SpeechSynthesisUtterance(t);
        u.pitch=Math.random()*2;
        u.rate=0.7+Math.random();
        speechSynthesis.speak(u);
    }

    setInterval(()=>{
        let t=words[Math.floor(Math.random()*words.length)];
        document.body.innerText=t;
        if(Math.random()<0.5) speak(t);
    },400);

    setInterval(()=>{
        window.moveTo(
            Math.random()*screen.availWidth,
            Math.random()*screen.availHeight
        );
    },200);

    // Ä‘Ã³ng 1 = spawn 3
    window.addEventListener("beforeunload",()=>{
        try{
            window.opener.postMessage("spawn3","*");
        }catch(e){}
    });

    // nháº­n lá»‡nh Ä‘Ã³ng kháº©n cáº¥p
    window.addEventListener("message",(e)=>{
        if(e.data==="forceClose") window.close();
    });

    <\/script>
    </body>
    `);
}

// main nháº­n lá»‡nh spawn3
window.addEventListener("message",e=>{
    if(e.data==="spawn3" && running){
        for(let i=0;i<3;i++){
            if(popups.length<maxPop){
                createPopup(false);
            }
        }
    }
});
</script>

</body>
</html>
